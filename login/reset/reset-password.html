<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Reset Password</title>
</head>
<body>
<h2>Reset Password</h2>
<input type="password" id="password" placeholder="New password" required>
<input type="password" id="confirm" placeholder="Confirm password" required>
<button id="btn">Update</button>
<p id="msg"></p>

<script src="https://unpkg.com/@supabase/supabase-js@2"></script>
<script>
const SUPABASE_URL = "YOUR_SUPABASE_URL";
const SUPABASE_ANON_KEY = "YOUR_SUPABASE_ANON_KEY";
const client = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

document.getElementById('btn').addEventListener('click', async () => {
  const pass = document.getElementById('password').value;
  const confirm = document.getElementById('confirm').value;
  const msg = document.getElementById('msg');

  if (pass !== confirm) {
    msg.style.color = 'red';
    msg.textContent = 'Passwords do not match';
    return;
  }

  const { error } = await client.auth.updateUser({ password: pass });
  if (error) {
    msg.style.color = 'red';
    msg.textContent = error.message;
  } else {
    msg.style.color = 'green';
    msg.textContent = 'Password updated! Redirecting...';
    setTimeout(() => location.href = '../login.html', 2000);
  }
});
</script>
</body>
</html>
