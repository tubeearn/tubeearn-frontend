<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Forgot Password</title>
</head>
<body>
<h2>Forgot Password</h2>
<form id="forgotForm">
<input type="email" id="email" placeholder="Email" required>
<button type="submit">Send Reset Link</button>
</form>
<p id="msg"></p>

<script type="module">
import CONFIG from '../../secure/config/configure.js';
const form = document.getElementById('forgotForm');
const msg = document.getElementById('msg');

form.addEventListener('submit', async (e) => {
  e.preventDefault();
  msg.textContent = '';
  const email = document.getElementById('email').value.trim();
  try {
    const res = await fetch(`${CONFIG.API_BASE_URL}/forgot-password`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email })
    });
    const data = await res.json();
    msg.textContent = data.message;
  } catch {
    msg.textContent = 'Network or server error. Please try again.';
  }
});
</script>
</body>
</html>
