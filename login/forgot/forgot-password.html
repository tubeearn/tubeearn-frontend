<script type="module">
import { BACKEND_URL } from '../../secure/config/configure.js';

document.getElementById('sendResetBtn').addEventListener('click', async () => {
    const email = document.getElementById('email').value.trim();
    const msgBox = document.getElementById('msg');

    if (!email) {
        msgBox.innerText = "Please enter your registered email.";
        return;
    }

    msgBox.innerText = "Sending link...";

    try {
        const res = await fetch(`${BACKEND_URL}/forgot-password`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ email })
        });
        const data = await res.json();
        msgBox.innerText = data.message;
    } catch (err) {
        msgBox.innerText = "Server error. Please try again.";
    }
});
</script>
